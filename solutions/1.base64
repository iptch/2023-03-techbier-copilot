#! /bin/bash

# The following installs the required software for the workshop.
# It executes the steps that are described in the README.md file.
# The script can differentiate between the different operating systems.


## README.md:
### Python & pip
# Python 3.7.4 und pip werden benötigt, um die Python-Umgebung zu installieren.

# Linux:
# ```bash
# sudo apt-get install python3 python3-pip
# ```

# Windows:
# * [Python 3.7.4](https://www.python.org/ftp/python/3.7.4/python-3.7.4-amd64.exe) herunterladen und installieren
# * [pip](https://bootstrap.pypa.io/get-pip.py) herunterladen und ausführen

# Mac:

# ```bash
# brew install python3
# ```

# ### Virtualenv
# Virtualenv wird benötigt, um die Python-Umgebung zu isolieren. Damit wird verhindert, dass die Python-Umgebung des Systems verändert wird.

# Installation:
# ```bash
# pip3 install virtualenv
# ```

# Virtuelle Umgebung einmalig aufsetzen:
# ```bash
# virtualenv -p python3 venv
# ```

# Virtuelle Umgebung aktivieren:
# ```bash
# source venv/bin/activate
# ```

# Virtuelle Umgebung deaktivieren:
# ```bash
# deactivate
# ```

# ### Requirements
# Die Python-Umgebung kann mit den Requirements installiert werden, die in der Datei `requirements.txt` hinterlegt sind.

# ```bash
# pip3 install -r requirements.txt
# ```


function installLinux {
    sudo apt-get install python3 python3-pip libcurl4-openssl-dev libssl-dev
    pip3 install virtualenv
    virtualenv -p python3 venv
    source venv/bin/activate
    pip3 install -r requirements.txt
    deactivate
}

function installMac {
    brew install python3
    pip3 install virtualenv
    virtualenv -p python3 venv
    source venv/bin/activate
    pip3 install -r requirements.txt
    deactivate
}

function installWindows {
    echo "Windows"
}

function install {
    if [[ "$OSTYPE" == "linux-gnu" ]]; then
        installLinux
    elif [[ "$OSTYPE" == "darwin"* ]]; then
        installMac
    elif [[ "$OSTYPE" == "cygwin" ]]; then
        installWindows
    elif [[ "$OSTYPE" == "msys" ]]; then
        installWindows
    elif [[ "$OSTYPE" == "win32" ]]; then
        installWindows
    elif [[ "$OSTYPE" == "freebsd"* ]]; then
        installLinux
    else
        echo "Unknown OS"
    fi
}

install
